export class Range {
  constructor() {
    this.ranges = [-Infinity, Infinity];
  };

  unionSelf() {
    this.ranges.sort(([headA], [headB]) => headA - headB);

    this.ranges = this.ranges.reduce(([...most, last], next) => {
      const [nextHead, nextTail] = next;
      const [lastHead, lastTail] = last;
      if (lastTail < nextHead) {
        return [...most, last, next];
      } else if (lastTail < nextTail){
        return [...most, [lastHead, nextTail]];
      } else {
        return [...most, last];
      }
    });

  }

  union(range) {
    this.ranges.push(...range.ranges);
    this.unionSelf();
  }

  intersect(range) {
    this.unionSelf();
    
  }
}